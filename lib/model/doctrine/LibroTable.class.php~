<?php

/**
 * LibroTable
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 */
class LibroTable extends Doctrine_Table
{
    /**
     * Returns an instance of this class.
     *
     * @return object LibroTable
     */
    public static function getInstance()
    {
        return Doctrine_Core::getTable('Libro');
    }

		public function getById($id) {
			return $this->createQuery('a')->where('a.id = ?', $id)->fetchOne();
		}
		
		public function getAll() {
      return $this->createQuery('a')->execute();
		}
		
		public function getByNameInLevel($level, $name) {
			return $this->createQuery('a')->where('a.nombre = ?', $name)->andwhere('a.nivel = ?', $level)->fetchOne();
		}
		
		public function getAllByLevel() {
      $result = array();
      $todos = $this->createQuery('a')->execute();
      foreach($todos as $uno) {
        $guardar = true;
        foreach ($result as $guardado) {
          if ($guardado == $uno) {
            $guardar = false;
          }
        }
        if ($guardar) {
            $result[$uno->getNivel()] = $uno->getNombre();
          }
      }
      return $result;
		}
}
